<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">

  <title>Genshi with ElementTree</title>

  <meta name="description" content="A jQuery library for modern HTML presentations">
  <meta name="author" content="Caleb Troughton">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <!-- Core and extension CSS files -->
  <link rel="stylesheet" href="../core/deck.core.css">
  <link rel="stylesheet" href="../extensions/goto/deck.goto.css">
  <link rel="stylesheet" href="../extensions/menu/deck.menu.css">
  <link rel="stylesheet" href="../extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" href="../extensions/status/deck.status.css">
  <link rel="stylesheet" href="../extensions/hash/deck.hash.css">

  <!-- Theme CSS files (menu swaps these out) -->
  <link rel="stylesheet" href="../themes/style/web-2.0.css">
  <link rel="stylesheet" href="../themes/transition/horizontal-slide.css">

  <!-- Custom CSS just for this page -->
  <link rel="stylesheet" href="style.css">

  <script src="../modernizr.custom.js"></script>
</head>

<body class="deck-container">

<section class="slide" id="title-slide">
<h1>Making Genshi and ElementTree play nicely together</h1>
</section>

<section class="slide" id="survey">
<h2>First, a quick test</h2>
<h3>Hands up if you have:</h3>
<ul>
  <li class="slide">Heard of ElementTree?</li>
  <li class="slide">Heard of Genshi?</li>
  <li class="slide">Used Genshi?</li>
  <li class="slide">Dug into Genshi's guts?</li>
</ul>
</section>

<section class="slide" id="element-tree-intro1">
<h2>What is ElementTree?</h2>
<p>Short answer: Better than DOM</p>
</section>

<section class="slide" id="element-tree-intro2">
<h2>What is ElementTree?</h2>
<p>Longer answer: ElementTree is a ridiculously simple, easy to use API for
dealing with XML (much easier than the "official" API called DOM)</p>
<br />
<div class="slide">
  <p>By way of demonstration, let's create the following document manually in
  each:</p>
  <pre class="code"><code class="xml">&lt;movie&gt;
  &lt;title&gt;Serenity&lt;/title&gt;
  &lt;genre&gt;science-fiction&lt;/genre&gt;
  &lt;imdb href=&quot;http://www.imdb.com/title/tt0379786/&quot; /&gt;
&lt;/movie&gt;</code></pre>
</div>
</section>

<section class="slide" id="element-tree-dom-example">
<h2>DOM version</h2>
<pre class="code"><code class="python">import xml.dom

impl = xml.dom.getDOMImplementation()
doc = impl.createDocument('', 'movie', '')
title = doc.createElement('title')
title.appendChild(doc.createTextNode('Serenity'))
doc.documentElement.appendChild(title)
genre = doc.createElement('genre')
genre.appendChild(doc.createTextNode('science-fiction'))
doc.documentElement.appendChild(genre)
imdb = doc.createElement('imdb')
imdb.setAttribute('href', 'http://www.imdb.com/title/tt0379786/')
doc.documentElement.appendChild(imdb)
print doc.toxml('UTF-8')</code></pre>
</section>

<section class="slide" id="element-tree-et-example">
<h2>ElementTree version</h2>
<pre class="code"><code class="python">import xml.etree.ElementTree as et

doc = et.Element('movie')
et.SubElement(doc, 'title').text = 'Serenity'
et.SubElement(doc, 'genre').text = 'science-fiction')
et.SubElement(doc, 'imdb').attrib['href'] = 'http://www.imdb.com/title/tt0379786/'
print et.tostring(doc)</code></pre>
</section>

<section class="slide" id="genshi-intro">
<h2>What is Genshi?</h2>
<p>Short answer: an awesome XML templating system which lets you do stuff like
this:</p>
<pre class="code"><code class="xml">&lt;ol py:if=&quot;links&quot; class=&quot;links&quot;&gt;
  &lt;li py:for=&quot;link in links&quot;&gt;
    &lt;a href=&quot;${link.url}&quot;&gt;${link.title}&lt;/a&gt;
    posted by ${link.username} at ${link.time.strftime('%x %X')}
    &lt;div class=&quot;info&quot;&gt;
      &lt;a href=&quot;${url('/info/%s/' % link.id)}&quot;&gt;
        ${len(link.comments)} comments
      &lt;/a&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;</code></pre>
</section>

<section class="slide" id="genshi-why">
<h2>What is Genshi?</h2>
<p>However - we're more interested in how it generates XML elements with its
cool ElementFactory. Here's how you could create the earlier XML document with
Genshi's ElementFactory:</p>
<pre class="code"><code class="python">import genshi.builder

tag = genshi.builder.ElementFactory()
print tag.movie(
    tag.title('Serenity'),
    tag.genre('science-fiction'),
    tag.imdb(href='http://www.imdb.com/title/tt0379786/')
)</code></pre>
<div class="slide">
  <p>How does Genshi know about my made-up &lt;movie&gt; element?</p>
</div>
</section>

<section class="slide" id="get-magic">
<h2>__get__ magic</h2>
<p>Genshi's ElementFactory overrides __get__ to generate unknown methods on the fly.</p>
</section>

<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<p class="deck-status">
  <span class="deck-status-current"></span>
  /
  <span class="deck-status-total"></span>
</p>

<form action="." method="get" class="goto-form">
  <label for="goto-slide">Go to slide:</label>
  <input type="number" name="slidenum" id="goto-slide">
  <input type="submit" value="Go">
</form>

<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../jquery-1.6.4.min.js"><\/script>')</script>
<script src="../jquery.beautyOfCode-min.js"></script>

<!-- Deck Core and extensions -->
<script src="../core/deck.core.js"></script>
<script src="../extensions/menu/deck.menu.js"></script>
<script src="../extensions/goto/deck.goto.js"></script>
<script src="../extensions/status/deck.status.js"></script>
<script src="../extensions/navigation/deck.navigation.js"></script>
<script src="../extensions/hash/deck.hash.js"></script>
<script src="base.js"></script>

</body>
</html>
